import{S as V,i as z,s as K,e as v,a as N,b as I,c as Q,d as E,f as fe,g as m,t as S,h as G,l as U,j as T,k as de,m as M,n as J,u as H,o as W,p as _e,q as me,r as pe,v as B,w as D,x as he,y as X,z as be,A as ke,B as ve,C as ge,D as O,E as ye,F as we,G as R,H as Z,I as $,J as x,K as Ie,L as Ee}from"./vendor.89bd61f5.js";const je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}};je();function ee(o,e,l){const t=o.slice();return t[10]=e[l][0],t[11]=e[l][1],t[12]=e[l][2],t}function te(o,e,l){const t=o.slice();return t[15]=e[l],t}function le(o){let e,l=o[1].images,t=[];for(let s=0;s<l.length;s+=1)t[s]=ne(te(o,l,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();N(e,"class","media svelte-1ru5yh8")},m(s,n){I(s,e,n);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(s,n){if(n&6){l=s[1].images;let r;for(r=0;r<l.length;r+=1){const p=te(s,l,r);t[r]?t[r].p(p,n):(t[r]=ne(p),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(s){s&&E(e),fe(t,s)}}}function ne(o){let e,l;return{c(){e=v("img"),Q(e.src,l=o[2][o[15]])||N(e,"src",l),N(e,"alt","Question detail"),N(e,"class","svelte-1ru5yh8")},m(t,s){I(t,e,s)},p(t,s){s&6&&!Q(e.src,l=t[2][t[15]])&&N(e,"src",l)},d(t){t&&E(e)}}}function se(o){let e,l,t;return{c(){e=v("div"),l=v("video"),l.autoplay=!0,l.loop=!0,l.muted=!0,Q(l.src,t=o[2][o[1].video])||N(l,"src",t),N(l,"class","svelte-1ru5yh8"),N(e,"class","media svelte-1ru5yh8")},m(s,n){I(s,e,n),m(e,l)},p(s,n){n&6&&!Q(l.src,t=s[2][s[1].video])&&N(l,"src",t)},d(s){s&&E(e)}}}function oe(o,e){let l,t,s,n=e[10]+"",r,p,d=e[12]+"",_,h,j;function y(){return e[8](e[11])}return{key:o,first:null,c(){l=v("div"),t=v("button"),s=S("<"),r=S(n),p=S(">: "),_=S(d),N(t,"class","answer svelte-1ru5yh8"),t.disabled=e[0],G(t,"correct",e[0]&&e[11]===e[1].answerId),N(l,"class","svelte-1ru5yh8"),this.first=l},m(a,c){I(a,l,c),m(l,t),m(t,s),m(t,r),m(t,p),m(t,_),h||(j=U(t,"click",y),h=!0)},p(a,c){e=a,c&8&&n!==(n=e[10]+"")&&T(r,n),c&8&&d!==(d=e[12]+"")&&T(_,d),c&1&&(t.disabled=e[0]),c&11&&G(t,"correct",e[0]&&e[11]===e[1].answerId)},d(a){a&&E(l),h=!1,j()}}}function Ne(o){let e,l,t=o[1].question+"",s,n,r,p,d,_=[],h=new Map,j,y,a,c,g,f=o[1].images!==void 0&&le(o),b=o[1].video!==void 0&&se(o),C=o[3];const A=i=>i[11];for(let i=0;i<C.length;i+=1){let k=ee(o,C,i),u=A(k);h.set(u,_[i]=oe(u,k))}const P=o[6].default,q=de(P,o,o[5],null);return{c(){e=v("div"),l=v("p"),s=S(t),n=M(),f&&f.c(),r=M(),b&&b.c(),p=M(),d=v("div");for(let i=0;i<_.length;i+=1)_[i].c();j=M(),y=v("div"),q&&q.c(),J(y,"grid-column","2"),N(d,"class","answers svelte-1ru5yh8")},m(i,k){I(i,e,k),m(e,l),m(l,s),m(e,n),f&&f.m(e,null),m(e,r),b&&b.m(e,null),m(e,p),m(e,d);for(let u=0;u<_.length;u+=1)_[u].m(d,null);m(d,j),m(d,y),q&&q.m(y,null),a=!0,c||(g=U(window,"keyup",o[7]),c=!0)},p(i,[k]){(!a||k&2)&&t!==(t=i[1].question+"")&&T(s,t),i[1].images!==void 0?f?f.p(i,k):(f=le(i),f.c(),f.m(e,r)):f&&(f.d(1),f=null),i[1].video!==void 0?b?b.p(i,k):(b=se(i),b.c(),b.m(e,p)):b&&(b.d(1),b=null),k&27&&(C=i[3],_=H(_,k,A,1,i,C,h,d,W,oe,j,ee)),q&&q.p&&(!a||k&32)&&_e(q,P,i,i[5],a?pe(P,i[5],k,null):me(i[5]),null)},i(i){a||(B(q,i),a=!0)},o(i){D(q,i),a=!1},d(i){i&&E(e),f&&f.d(),b&&b.d();for(let k=0;k<_.length;k+=1)_[k].d();q&&q.d(i),c=!1,g()}}}function Se(o,e,l){let{$$slots:t={},$$scope:s}=e,{data:n}=e,{answered:r}=e,{mediaIndex:p}=e;const d=he();let _;function h(a){if(r)return;const c=a===n.answerId;d("answer",c),l(0,r=!0)}const j=a=>{for(let c=1;c<=_.length;c++)(a.code===`Digit${c}`||a.code===`Numpad${c}`)&&h(_[c-1][1])},y=a=>{h(a)};return o.$$set=a=>{"data"in a&&l(1,n=a.data),"answered"in a&&l(0,r=a.answered),"mediaIndex"in a&&l(2,p=a.mediaIndex),"$$scope"in a&&l(5,s=a.$$scope)},o.$$.update=()=>{if(o.$$.dirty&2){const a=[...Object.entries(n.answers)];n.noShuffle||a.sort(()=>Math.random()>.5?1:-1),l(3,_=a.map(([c,g],f)=>[f+1,c,g]))}},[r,n,p,_,h,s,t,j,y]}class qe extends V{constructor(e){super();z(this,e,Se,Ne,K,{data:1,answered:0,mediaIndex:2})}}function re(o,e,l){const t=o.slice();return t[17]=e[l][0],t[18]=e[l][1],t}function ie(o,e){let l,t=e[17]+"",s,n,r=e[18].length+"",p;return{key:o,first:null,c(){l=v("li"),s=S(t),n=S(": "),p=S(r),this.first=l},m(d,_){I(d,l,_),m(l,s),m(l,n),m(l,p)},p(d,_){e=d,_&64&&t!==(t=e[17]+"")&&T(s,t),_&64&&r!==(r=e[18].length+"")&&T(p,r)},d(d){d&&E(l)}}}function Le(o){let e,l,t,s;return{c(){e=v("div"),l=v("button"),l.textContent="Start",N(l,"class","svelte-o95ijy"),N(e,"class","start svelte-o95ijy")},m(n,r){I(n,e,r),m(e,l),t||(s=U(l,"click",o[8]),t=!0)},p:O,i:O,o:O,d(n){n&&E(e),t=!1,s()}}}function Oe(o){let e,l;return e=new qe({props:{mediaIndex:o[0],data:o[7],answered:o[4],$$slots:{default:[Pe]},$$scope:{ctx:o}}}),e.$on("answer",o[15]),{c(){Z(e.$$.fragment)},m(t,s){$(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.mediaIndex=t[0]),s&128&&(n.data=t[7]),s&16&&(n.answered=t[4]),s&2097212&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Me(o){let e;return{c(){e=S("Nespr\xE1vn\xE1 odpov\u011B\u010F")},m(l,t){I(l,e,t)},p:O,d(l){l&&E(e)}}}function Ce(o){let e,l=o[3][o[2]]+"",t,s;return{c(){e=S("Spr\xE1vn\xE1 odpov\u011B\u010F ("),t=S(l),s=S(".)")},m(n,r){I(n,e,r),I(n,t,r),I(n,s,r)},p(n,r){r&12&&l!==(l=n[3][n[2]]+"")&&T(t,l)},d(n){n&&E(e),n&&E(t),n&&E(s)}}}function Ae(o){let e;return{c(){e=S("Vyberte odpov\u011B\u010F")},m(l,t){I(l,e,t)},p:O,d(l){l&&E(e)}}}function Pe(o){let e,l,t,s,n,r,p,d,_,h,j,y;function a(f,b){return f[4]?f[5]?Ce:Me:Ae}let c=a(o),g=c(o);return{c(){e=v("div"),l=v("span"),t=S("Ot\xE1zka "),s=S(o[2]),n=M(),r=v("span"),g.c(),p=M(),d=v("button"),_=S("<Enter>: Pokra\u010Dovat"),J(r,"color",o[4]?o[5]?"#191":"#911":"unset",!1),d.disabled=h=!o[4],J(d,"width","100%"),J(d,"margin-top","1rem"),N(e,"class","info svelte-o95ijy")},m(f,b){I(f,e,b),m(e,l),m(l,t),m(l,s),m(e,n),m(e,r),g.m(r,null),m(e,p),m(e,d),m(d,_),j||(y=U(d,"click",o[8]),j=!0)},p(f,b){b&4&&T(s,f[2]),c===(c=a(f))&&g?g.p(f,b):(g.d(1),g=c(f),g&&(g.c(),g.m(r,null))),b&48&&J(r,"color",f[4]?f[5]?"#191":"#911":"unset",!1),b&16&&h!==(h=!f[4])&&(d.disabled=h)},d(f){f&&E(e),g.d(),j=!1,y()}}}function Ue(o){let e,l,t=[],s=new Map,n,r,p,d,_,h,j,y,a,c,g,f,b,C,A=[...o[6].entries()];const P=u=>u[17];for(let u=0;u<A.length;u+=1){let w=re(o,A,u),L=P(w);s.set(L,t[u]=ie(L,w))}const q=[Oe,Le],i=[];function k(u,w){return u[7]?0:1}return a=k(o),c=i[a]=q[a](o),{c(){e=v("div"),l=v("ul");for(let u=0;u<t.length;u+=1)t[u].c();n=M(),r=v("div"),p=v("button"),p.textContent="Resetovat statistiku",d=M(),_=v("button"),_.textContent="Export",h=M(),j=v("button"),j.textContent="Import",y=M(),c.c(),g=X(),N(p,"class","svelte-o95ijy"),N(_,"class","svelte-o95ijy"),N(j,"class","svelte-o95ijy"),N(r,"class","buttons svelte-o95ijy"),N(e,"class","stats")},m(u,w){I(u,e,w),m(e,l);for(let L=0;L<t.length;L+=1)t[L].m(l,null);m(e,n),m(e,r),m(r,p),m(r,d),m(r,_),m(r,h),m(r,j),I(u,y,w),i[a].m(u,w),I(u,g,w),f=!0,b||(C=[U(window,"keyup",o[11]),U(p,"click",o[12]),U(_,"click",o[13]),U(j,"click",o[14])],b=!0)},p(u,[w]){w&64&&(A=[...u[6].entries()],t=H(t,w,P,1,u,A,s,l,W,ie,null,re));let L=a;a=k(u),a===L?i[a].p(u,w):(be(),D(i[L],1,1,()=>{i[L]=null}),ke(),c=i[a],c?c.p(u,w):(c=i[a]=q[a](u),c.c()),B(c,1),c.m(g.parentNode,g))},i(u){f||(B(c),f=!0)},o(u){D(c),f=!1},d(u){u&&E(e);for(let w=0;w<t.length;w+=1)t[w].d();u&&E(y),i[a].d(u),u&&E(g),b=!1,ve(C)}}}function Te(o,e,l){let t,s,n,r=O,p=()=>(r(),r=we(h,i=>l(3,n=i)),h);o.$$.on_destroy.push(()=>r());let{questions:d}=e,{mediaIndex:_}=e,h;function j(){let i=0;const k=[];for(const[ue,ce]of f.entries()){const Y=ce.length/Math.pow(2,ue);i+=Y,k.push(Y)}const u=Math.random()*i;let w=0,L=0;for(;u>=w;)w+=k[L++];let F=f[L-1];return F[Math.floor(Math.random()*F.length)]}let y;ge(()=>{var k;let i;try{i=JSON.parse((k=localStorage.getItem("stats"))!=null?k:"{")}catch{i={}}p(l(1,h=ye(i))),h.subscribe(u=>{localStorage.setItem("stats",JSON.stringify(u))})});let a=!1,c=null;function g(){l(4,a=!1),l(5,c=null),l(2,y=j())}let f=[];const b=i=>{a&&(i.code==="Enter"||i.code==="NumpadEnter")&&g()},C=()=>{confirm("Opravdu resetovat statistiky?")&&R(h,n={},n)},A=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(n)),alert("Copied")}catch(i){alert(i)}},P=async()=>{try{const i=prompt("Import");if(i===null)return;R(h,n=JSON.parse(i),n)}catch(i){alert(i)}},q=({detail:i})=>{i?(n[y]===void 0&&R(h,n[y]=0,n),R(h,n[y]+=1,n)):delete n[y],l(5,c=i),l(4,a=!0)};return o.$$set=i=>{"questions"in i&&l(9,d=i.questions),"mediaIndex"in i&&l(0,_=i.mediaIndex)},o.$$.update=()=>{if(o.$$.dirty&512&&l(10,t=[...Object.keys(d)].sort()),o.$$.dirty&516&&l(7,s=d[y]),o.$$.dirty&1034){e:{if(!h)break e;l(6,f=t.reduce((i,k)=>{var w;const u=(w=n[k])!=null?w:0;for(;u>=i.length;)i.push([]);return i[u].push(k),i},[]))}}},[_,h,y,n,a,c,f,s,g,d,t,b,C,A,P,q]}class Be extends V{constructor(e){super();z(this,e,Te,Ue,K,{questions:9,mediaIndex:0})}}async function De(){const o=await fetch("/media-bundle.bin"),e=new TextDecoder,l=await o.arrayBuffer(),t=new DataView(l),s={};let n=0;for(;n<l.byteLength;){const r=t.getUint16(n);n+=Uint16Array.BYTES_PER_ELEMENT;const p=e.decode(new Uint8Array(l,n,r));n+=r;const d=t.getUint32(n);n+=Uint32Array.BYTES_PER_ELEMENT;const _=new Blob([new Uint8Array(l,n,d)]);n+=d,s[p]=URL.createObjectURL(_)}return s}function ae(o){o[1]=o[3][0],o[2]=o[3][1]}function Je(o){let e,l,t,s=o[4]+"",n;return{c(){e=v("p"),e.textContent="Chyba",l=M(),t=v("pre"),n=S(s)},m(r,p){I(r,e,p),I(r,l,p),I(r,t,p),m(t,n)},p:O,i:O,o:O,d(r){r&&E(e),r&&E(l),r&&E(t)}}}function Qe(o){ae(o);let e,l;return e=new Be({props:{questions:o[1],mediaIndex:o[2]}}),{c(){Z(e.$$.fragment)},m(t,s){$(e,t,s),l=!0},p(t,s){ae(t)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Re(o){let e;return{c(){e=v("p"),e.textContent="Vy\u010Dkejte chvilku, stahuji data ot\xE1zek"},m(l,t){I(l,e,t)},p:O,i:O,o:O,d(l){l&&E(e)}}}function Ve(o){let e,l,t={ctx:o,current:null,token:null,hasCatch:!0,pending:Re,then:Qe,catch:Je,value:3,error:4,blocks:[,,,]};return Ie(o[0],t),{c(){e=X(),t.block.c()},m(s,n){I(s,e,n),t.block.m(s,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(s,[n]){o=s,Ee(t,o,n)},i(s){l||(B(t.block),l=!0)},o(s){for(let n=0;n<3;n+=1){const r=t.blocks[n];D(r)}l=!1},d(s){s&&E(e),t.block.d(s),t.token=null,t=null}}}function ze(o){return[Promise.all([fetch("/data.json").then(l=>l.json()),De()])]}class Ke extends V{constructor(e){super();z(this,e,ze,Ve,K,{})}}new Ke({target:document.body});
