import{S as V,i as F,s as K,e as v,a as j,b as w,c as Q,d as E,f as ce,g as m,t as N,h as Y,l as D,j as U,k as fe,m as M,n as z,u as G,o as H,p as de,q as _e,r as me,v as J,w as T,x as pe,y as he,z as be,A as ke,B as ve,C,D as ge,E as ye,F as R,G as X,H as Z,I as $,J as we,K as Ee,L as Ie}from"./vendor.11baec95.js";const Se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function l(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(o){if(o.ep)return;o.ep=!0;const n=l(o);fetch(o.href,n)}};Se();var je="/autoskola/assets/data.4fd139bf.json";function x(s,e,l){const t=s.slice();return t[10]=e[l][0],t[11]=e[l][1],t[12]=e[l][2],t}function ee(s,e,l){const t=s.slice();return t[15]=e[l],t}function te(s){let e,l=s[1].images,t=[];for(let o=0;o<l.length;o+=1)t[o]=le(ee(s,l,o));return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();j(e,"class","media svelte-1ru5yh8")},m(o,n){w(o,e,n);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(o,n){if(n&6){l=o[1].images;let r;for(r=0;r<l.length;r+=1){const h=ee(o,l,r);t[r]?t[r].p(h,n):(t[r]=le(h),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(o){o&&E(e),ce(t,o)}}}function le(s){let e,l;return{c(){e=v("img"),Q(e.src,l=s[2][s[15]])||j(e,"src",l),j(e,"alt","Question detail"),j(e,"class","svelte-1ru5yh8")},m(t,o){w(t,e,o)},p(t,o){o&6&&!Q(e.src,l=t[2][t[15]])&&j(e,"src",l)},d(t){t&&E(e)}}}function ne(s){let e,l,t;return{c(){e=v("div"),l=v("video"),l.autoplay=!0,l.loop=!0,l.muted=!0,Q(l.src,t=s[2][s[1].video])||j(l,"src",t),j(l,"class","svelte-1ru5yh8"),j(e,"class","media svelte-1ru5yh8")},m(o,n){w(o,e,n),m(e,l)},p(o,n){n&6&&!Q(l.src,t=o[2][o[1].video])&&j(l,"src",t)},d(o){o&&E(e)}}}function se(s,e){let l,t,o,n=e[10]+"",r,h,f=e[12]+"",_,b,S;function y(){return e[8](e[11])}return{key:s,first:null,c(){l=v("div"),t=v("button"),o=N("<"),r=N(n),h=N(">: "),_=N(f),j(t,"class","answer svelte-1ru5yh8"),t.disabled=e[0],Y(t,"correct",e[0]&&e[11]===e[1].answerId),j(l,"class","svelte-1ru5yh8"),this.first=l},m(a,u){w(a,l,u),m(l,t),m(t,o),m(t,r),m(t,h),m(t,_),b||(S=D(t,"click",y),b=!0)},p(a,u){e=a,u&8&&n!==(n=e[10]+"")&&U(r,n),u&8&&f!==(f=e[12]+"")&&U(_,f),u&1&&(t.disabled=e[0]),u&11&&Y(t,"correct",e[0]&&e[11]===e[1].answerId)},d(a){a&&E(l),b=!1,S()}}}function Ne(s){let e,l,t=s[1].question+"",o,n,r,h,f,_=[],b=new Map,S,y,a,u,g,c=s[1].images!==void 0&&te(s),k=s[1].video!==void 0&&ne(s),A=s[3];const P=i=>i[11];for(let i=0;i<A.length;i+=1){let p=x(s,A,i),L=P(p);b.set(L,_[i]=se(L,p))}const B=s[6].default,q=fe(B,s,s[5],null);return{c(){e=v("div"),l=v("p"),o=N(t),n=M(),c&&c.c(),r=M(),k&&k.c(),h=M(),f=v("div");for(let i=0;i<_.length;i+=1)_[i].c();S=M(),y=v("div"),q&&q.c(),z(y,"grid-column","2"),j(f,"class","answers svelte-1ru5yh8")},m(i,p){w(i,e,p),m(e,l),m(l,o),m(e,n),c&&c.m(e,null),m(e,r),k&&k.m(e,null),m(e,h),m(e,f);for(let L=0;L<_.length;L+=1)_[L].m(f,null);m(f,S),m(f,y),q&&q.m(y,null),a=!0,u||(g=D(window,"keyup",s[7]),u=!0)},p(i,[p]){(!a||p&2)&&t!==(t=i[1].question+"")&&U(o,t),i[1].images!==void 0?c?c.p(i,p):(c=te(i),c.c(),c.m(e,r)):c&&(c.d(1),c=null),i[1].video!==void 0?k?k.p(i,p):(k=ne(i),k.c(),k.m(e,h)):k&&(k.d(1),k=null),p&27&&(A=i[3],_=G(_,p,P,1,i,A,b,f,H,se,S,x)),q&&q.p&&(!a||p&32)&&de(q,B,i,i[5],a?me(B,i[5],p,null):_e(i[5]),null)},i(i){a||(J(q,i),a=!0)},o(i){T(q,i),a=!1},d(i){i&&E(e),c&&c.d(),k&&k.d();for(let p=0;p<_.length;p+=1)_[p].d();q&&q.d(i),u=!1,g()}}}function qe(s,e,l){let{$$slots:t={},$$scope:o}=e,{data:n}=e,{answered:r}=e,{mediaIndex:h}=e;const f=pe();let _;function b(a){if(r)return;const u=a===n.answerId;f("answer",u),l(0,r=!0)}const S=a=>{for(let u=1;u<=_.length;u++)(a.code===`Digit${u}`||a.code===`Numpad${u}`)&&b(_[u-1][1])},y=a=>{b(a)};return s.$$set=a=>{"data"in a&&l(1,n=a.data),"answered"in a&&l(0,r=a.answered),"mediaIndex"in a&&l(2,h=a.mediaIndex),"$$scope"in a&&l(5,o=a.$$scope)},s.$$.update=()=>{if(s.$$.dirty&2){const a=[...Object.entries(n.answers)];n.noShuffle||a.sort(()=>Math.random()>.5?1:-1),l(3,_=a.map(([u,g],c)=>[c+1,u,g]))}},[r,n,h,_,b,o,t,S,y]}class Le extends V{constructor(e){super();F(this,e,qe,Ne,K,{data:1,answered:0,mediaIndex:2})}}function oe(s,e,l){const t=s.slice();return t[17]=e[l][0],t[18]=e[l][1],t}function re(s,e){let l,t=e[17]+"",o,n,r=e[18].length+"",h;return{key:s,first:null,c(){l=v("li"),o=N(t),n=N(": "),h=N(r),this.first=l},m(f,_){w(f,l,_),m(l,o),m(l,n),m(l,h)},p(f,_){e=f,_&64&&t!==(t=e[17]+"")&&U(o,t),_&64&&r!==(r=e[18].length+"")&&U(h,r)},d(f){f&&E(l)}}}function Oe(s){let e,l,t,o;return{c(){e=v("div"),l=v("button"),l.textContent="Start",j(l,"class","svelte-o95ijy"),j(e,"class","start svelte-o95ijy")},m(n,r){w(n,e,r),m(e,l),t||(o=D(l,"click",s[8]),t=!0)},p:C,i:C,o:C,d(n){n&&E(e),t=!1,o()}}}function Me(s){let e,l;return e=new Le({props:{mediaIndex:s[0],data:s[7],answered:s[4],$$slots:{default:[De]},$$scope:{ctx:s}}}),e.$on("answer",s[15]),{c(){X(e.$$.fragment)},m(t,o){Z(e,t,o),l=!0},p(t,o){const n={};o&1&&(n.mediaIndex=t[0]),o&128&&(n.data=t[7]),o&16&&(n.answered=t[4]),o&2097212&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){$(e,t)}}}function Ce(s){let e;return{c(){e=N("Nespr\xE1vn\xE1 odpov\u011B\u010F")},m(l,t){w(l,e,t)},p:C,d(l){l&&E(e)}}}function Ae(s){let e,l=s[3][s[2]]+"",t,o;return{c(){e=N("Spr\xE1vn\xE1 odpov\u011B\u010F ("),t=N(l),o=N(".)")},m(n,r){w(n,e,r),w(n,t,r),w(n,o,r)},p(n,r){r&12&&l!==(l=n[3][n[2]]+"")&&U(t,l)},d(n){n&&E(e),n&&E(t),n&&E(o)}}}function Be(s){let e;return{c(){e=N("Vyberte odpov\u011B\u010F")},m(l,t){w(l,e,t)},p:C,d(l){l&&E(e)}}}function De(s){let e,l,t,o,n,r,h,f,_,b,S,y;function a(c,k){return c[4]?c[5]?Ae:Ce:Be}let u=a(s),g=u(s);return{c(){e=v("div"),l=v("span"),t=N("Ot\xE1zka "),o=N(s[2]),n=M(),r=v("span"),g.c(),h=M(),f=v("button"),_=N("<Enter>: Pokra\u010Dovat"),z(r,"color",s[4]?s[5]?"#191":"#911":"unset",!1),f.disabled=b=!s[4],z(f,"width","100%"),z(f,"margin-top","1rem"),j(e,"class","info svelte-o95ijy")},m(c,k){w(c,e,k),m(e,l),m(l,t),m(l,o),m(e,n),m(e,r),g.m(r,null),m(e,h),m(e,f),m(f,_),S||(y=D(f,"click",s[8]),S=!0)},p(c,k){k&4&&U(o,c[2]),u===(u=a(c))&&g?g.p(c,k):(g.d(1),g=u(c),g&&(g.c(),g.m(r,null))),k&48&&z(r,"color",c[4]?c[5]?"#191":"#911":"unset",!1),k&16&&b!==(b=!c[4])&&(f.disabled=b)},d(c){c&&E(e),g.d(),S=!1,y()}}}function Pe(s){let e,l,t=[],o=new Map,n,r,h,f,_,b,S,y,a,u,g,c,k,A,P,B=[...s[6].entries()];const q=d=>d[17];for(let d=0;d<B.length;d+=1){let I=oe(s,B,d),O=q(I);o.set(O,t[d]=re(O,I))}const i=[Me,Oe],p=[];function L(d,I){return d[7]?0:1}return a=L(s),u=p[a]=i[a](s),{c(){e=v("div"),l=v("ul");for(let d=0;d<t.length;d+=1)t[d].c();n=M(),r=v("div"),h=v("button"),h.textContent="Resetovat statistiku",f=M(),_=v("button"),_.textContent="Export",b=M(),S=v("button"),S.textContent="Import",y=M(),u.c(),g=M(),c=v("div"),j(h,"class","svelte-o95ijy"),j(_,"class","svelte-o95ijy"),j(S,"class","svelte-o95ijy"),j(r,"class","buttons svelte-o95ijy"),j(e,"class","stats"),z(c,"height","10vh")},m(d,I){w(d,e,I),m(e,l);for(let O=0;O<t.length;O+=1)t[O].m(l,null);m(e,n),m(e,r),m(r,h),m(r,f),m(r,_),m(r,b),m(r,S),w(d,y,I),p[a].m(d,I),w(d,g,I),w(d,c,I),k=!0,A||(P=[D(window,"keyup",s[11]),D(h,"click",s[12]),D(_,"click",s[13]),D(S,"click",s[14])],A=!0)},p(d,[I]){I&64&&(B=[...d[6].entries()],t=G(t,I,q,1,d,B,o,l,H,re,null,oe));let O=a;a=L(d),a===O?p[a].p(d,I):(he(),T(p[O],1,1,()=>{p[O]=null}),be(),u=p[a],u?u.p(d,I):(u=p[a]=i[a](d),u.c()),J(u,1),u.m(g.parentNode,g))},i(d){k||(J(u),k=!0)},o(d){T(u),k=!1},d(d){d&&E(e);for(let I=0;I<t.length;I+=1)t[I].d();d&&E(y),p[a].d(d),d&&E(g),d&&E(c),A=!1,ke(P)}}}function Ue(s,e,l){let t,o,n,r=C,h=()=>(r(),r=ye(b,i=>l(3,n=i)),b);s.$$.on_destroy.push(()=>r());let{questions:f}=e,{mediaIndex:_}=e,b;function S(){let i=0;const p=[];for(const[ae,ue]of c.entries()){const W=ue.length/Math.pow(4,ae);i+=W,p.push(W)}const L=Math.random()*i;let d=0,I=0;for(;L>=d;)d+=p[I++];let O=c[I-1];return O[Math.floor(Math.random()*O.length)]}let y;ve(()=>{var p;let i;try{i=JSON.parse((p=localStorage.getItem("stats"))!=null?p:"{")}catch{i={}}h(l(1,b=ge(i))),b.subscribe(L=>{localStorage.setItem("stats",JSON.stringify(L))})});let a=!1,u=null;function g(){l(4,a=!1),l(5,u=null),l(2,y=S())}let c=[];const k=i=>{a&&(i.code==="Enter"||i.code==="NumpadEnter")&&g()},A=()=>{confirm("Opravdu resetovat statistiky?")&&R(b,n={},n)},P=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(n)),alert("Copied")}catch(i){alert(i)}},B=async()=>{try{const i=prompt("Import");if(i===null)return;R(b,n=JSON.parse(i),n)}catch(i){alert(i)}},q=({detail:i})=>{i?(n[y]===void 0&&R(b,n[y]=0,n),R(b,n[y]+=1,n)):delete n[y],l(5,u=i),l(4,a=!0)};return s.$$set=i=>{"questions"in i&&l(9,f=i.questions),"mediaIndex"in i&&l(0,_=i.mediaIndex)},s.$$.update=()=>{if(s.$$.dirty&512&&l(10,t=[...Object.keys(f)].sort()),s.$$.dirty&516&&l(7,o=f[y]),s.$$.dirty&1034){e:{if(!b)break e;l(6,c=t.reduce((i,p)=>{var d;const L=(d=n[p])!=null?d:0;for(;L>=i.length;)i.push([]);return i[L].push(p),i},[]))}}},[_,b,y,n,a,u,c,o,g,f,t,k,A,P,B,q]}class ze extends V{constructor(e){super();F(this,e,Ue,Pe,K,{questions:9,mediaIndex:0})}}var Je="/autoskola/assets/media-bundle.e506fb5b.bin";async function Te(){const s=await fetch(Je),e=new TextDecoder,l=await s.arrayBuffer(),t=new DataView(l),o={};let n=0;for(;n<l.byteLength;){const r=t.getUint16(n);n+=Uint16Array.BYTES_PER_ELEMENT;const h=e.decode(new Uint8Array(l,n,r));n+=r;const f=t.getUint32(n);n+=Uint32Array.BYTES_PER_ELEMENT;const _=new Blob([new Uint8Array(l,n,f)]);n+=f,o[h]=URL.createObjectURL(_)}return o}function ie(s){s[1]=s[3][0],s[2]=s[3][1]}function Qe(s){let e,l,t,o=s[4]+"",n;return{c(){e=v("p"),e.textContent="Chyba",l=M(),t=v("pre"),n=N(o)},m(r,h){w(r,e,h),w(r,l,h),w(r,t,h),m(t,n)},p:C,i:C,o:C,d(r){r&&E(e),r&&E(l),r&&E(t)}}}function Re(s){ie(s);let e,l;return e=new ze({props:{questions:s[1],mediaIndex:s[2]}}),{c(){X(e.$$.fragment)},m(t,o){Z(e,t,o),l=!0},p(t,o){ie(t)},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){$(e,t)}}}function Ve(s){let e;return{c(){e=v("p"),e.textContent="Vy\u010Dkejte chvilku, stahuji data ot\xE1zek"},m(l,t){w(l,e,t)},p:C,i:C,o:C,d(l){l&&E(e)}}}function Fe(s){let e,l,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Ve,then:Re,catch:Qe,value:3,error:4,blocks:[,,,]};return we(s[0],t),{c(){e=Ee(),t.block.c()},m(o,n){w(o,e,n),t.block.m(o,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(o,[n]){s=o,Ie(t,s,n)},i(o){l||(J(t.block),l=!0)},o(o){for(let n=0;n<3;n+=1){const r=t.blocks[n];T(r)}l=!1},d(o){o&&E(e),t.block.d(o),t.token=null,t=null}}}function Ke(s){return[Promise.all([fetch(je).then(l=>l.json()),Te()])]}class We extends V{constructor(e){super();F(this,e,Ke,Fe,K,{})}}new We({target:document.body});(async()=>{var s,e;localStorage.getItem("worker-info")!=="y"&&(alert(await((e=(s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.register)==null?void 0:e.call(s,"/autoskola/sw.js",{scope:"/autoskola/"}))?"Service Worker byl sta\u017Een, znovu na\u010Dt\u011Bte str\xE1nku a pot\xE9 bude mo\u017En\xE9 aplikaci pou\u017E\xEDvat pln\u011B offline":"Nepoda\u0159ilo se st\xE1hnout Service Worker - obr\xE1zky a seznam ot\xE1zek tak mohou b\xFDt stahov\xE1ny opakovan\u011B"),localStorage.setItem("worker-info","y"))})();
